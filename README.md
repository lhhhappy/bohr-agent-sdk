# Bohrium Science Agent SDK

**è®©ç§‘ç ”è½¯ä»¶å¿«é€Ÿå‡çº§ä¸º AI åŠ©æ‰‹ â€”â€” ä¸‰æ­¥å®ç°æ™ºèƒ½åŒ–è½¬å‹**

## ğŸ“– é¡¹ç›®ç®€ä»‹

æƒ³è¦å¼€å‘ä¸€æ¬¾å¼ºå¤§é«˜æ•ˆã€ç¾è§‚æ˜“ç”¨çš„è½¯ä»¶åº”ç”¨ç»éæ˜“äº‹ã€‚å¼€å‘è€…å¾€å¾€éœ€è¦ä» 0 å¼€å§‹å­¦ä¹ è½¯ä»¶å¼€å‘çš„ä¼—å¤šçŸ¥è¯†ï¼Œç¼–å†™å‰ç«¯ç•Œé¢ã€éƒ¨ç½²è®¡ç®—èµ„æºã€å¼€å±•ä»»åŠ¡ç®¡ç†ï¼Œè¿˜æœ‰ä¼—å¤šä¾‹å¦‚åŸŸåç”³è¯·ã€èµ„è´¨è®¤å®šã€å¹³å°å¤‡æ¡ˆã€å®£ä¼ æ¨å¹¿ç­‰äº‹åŠ¡æ€§å·¥ä½œã€‚é«˜é—¨æ§›ã€éš¾ç»´æŠ¤ã€ç¼ºæŒ‡å¯¼çš„å¼€å‘ä½“éªŒå¤§å¤§æ‰“å‡»äº†å¼€å‘è€…çš„ç§¯ææ€§ã€‚

ä¸ºæ­¤ï¼Œç»å°”å¹³å°æ¨å‡ºäº† **bohr-agent-sdk ç§‘ç ”æ™ºèƒ½ä½“å¼€å‘å¥—ä»¶**ï¼Œè®© AI ç³»ç»ŸçœŸæ­£æ‰§è¡Œç§‘å­¦ä¸“ä¸šä»»åŠ¡ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºè‡ªå·±çš„ä¸“å±ç§‘ç ”æ™ºèƒ½ä½“ã€‚é€šè¿‡ä¸‰æ­¥æµç¨‹â€”â€”**è°ƒç”¨ MCP å·¥å…·ã€ç¼–æ’ Agent æµç¨‹ã€éƒ¨ç½²å‘å¸ƒæœåŠ¡**â€”â€”ä»»ä½•ç§‘ç ”è½¯ä»¶éƒ½èƒ½å¿«é€Ÿå‡çº§ä¸º AI åŠ©æ‰‹ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½ä»»åŠ¡ç®¡ç†ï¼šç®€åŒ–å¼€å‘ï¼Œæ ‡å‡†è¾“å‡º
é€šè¿‡è£…é¥°å™¨æ¨¡å¼ï¼Œå‡ è¡Œæ³¨è§£å°±èƒ½å°†ç§‘ç ”è®¡ç®—ç¨‹åºå¿«é€Ÿè½¬åŒ–ä¸º MCP æ ‡å‡†æœåŠ¡ã€‚å†…ç½®åº”ç”¨æ¨¡ç‰ˆï¼Œè®©åŸæœ¬åˆ†æ•£çš„ç§‘ç ”ä»£ç æˆä¸ºæ ‡å‡†åŒ–ã€å¯å¤ç”¨çš„æ™ºèƒ½ç»„ä»¶ã€‚

### ğŸ”§ å¤šåç«¯æ¡†æ¶
æ”¯æŒ Google ADKã€Langraphã€Camel ç­‰ä¸»æµ Agent å¼€æ”¾æ¡†æ¶ï¼Œä¸ºç†Ÿæ‚‰å„ä¸ªæŠ€æœ¯æ ˆçš„å¼€å‘è€…æä¾›å¼€æ”¾é€‰æ‹©ã€‚

### â˜ï¸ çµæ´»è®¡ç®—éƒ¨ç½²ï¼šæœ¬åœ°å¼€å‘ï¼Œäº‘ç«¯ç”Ÿäº§
åŒæ¨¡å¼æ¶æ„æ”¯æŒå¼€å‘ä¸ç”Ÿäº§çš„æ— ç¼è¡”æ¥ã€‚æœ¬åœ°ç¯å¢ƒç”¨äºå¿«é€Ÿè¿­ä»£å’ŒåŠŸèƒ½éªŒè¯ï¼Œç»å°”äº‘ç«¯ GPU é›†ç¾¤æ‰¿è½½ç”Ÿäº§çº§è®¡ç®—ä»»åŠ¡ã€‚SDK è‡ªåŠ¨ç®¡ç†ä»»åŠ¡è°ƒåº¦ã€çŠ¶æ€ç›‘æ§ã€ç»“æœå›æ”¶çš„å®Œæ•´æµç¨‹ï¼Œå†…ç½®æ–‡ä»¶ä¼ è¾“æœºåˆ¶å¤„ç†å¤§è§„æ¨¡æ•°æ®çš„ä¸Šä¼ ä¸‹è½½ã€‚å¼€å‘è€…ä¸“æ³¨äºæ ¸å¿ƒç®—æ³•å®ç°ï¼ŒåŸºç¡€è®¾æ–½ç®¡ç†å®Œå…¨è‡ªåŠ¨åŒ–ã€‚

### ğŸ–¼ï¸ å¯è§†åŒ–äº¤äº’ç•Œé¢ï¼šä¸“ä¸šå‘ˆç°ï¼Œç›´è§‚æ“ä½œ
åŸºäº React ç°ä»£æ¡†æ¶ï¼Œä¸€é”®éƒ¨ç½²åŠŸèƒ½å®Œå¤‡çš„ Web åº”ç”¨ã€‚å†…ç½® 3D åˆ†å­å¯è§†åŒ–å¼•æ“ï¼Œæ”¯æŒå¤šç§ç»“æ„æ ¼å¼å’Œæ¸²æŸ“æ¨¡å¼ï¼Œå®ç°åˆ†å­ç»“æ„çš„äº¤äº’å¼å±•ç¤ºã€‚å®æ—¶æ•°æ®åŒæ­¥ä¿è¯è®¡ç®—çŠ¶æ€å³æ—¶æ›´æ–°ï¼Œå¤šä¼šè¯ç®¡ç†æ”¯æŒå¹¶è¡Œä»»åŠ¡å¤„ç†ã€‚é›†æˆæ–‡ä»¶ç®¡ç†ã€é¡¹ç›®åˆ‡æ¢ã€æƒé™æ§åˆ¶ç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚å°†å‘½ä»¤è¡Œå·¥å…·å‡çº§ä¸ºä¸“ä¸šçš„å¯è§†åŒ–åº”ç”¨ï¼Œå¤§å¹…æå‡ç”¨æˆ·ä½“éªŒå’Œå·¥å…·å¯ç”¨æ€§ã€‚

## ğŸ–¼ï¸ ç•Œé¢å±•ç¤º

### ç§‘ç ”è®¡ç®—ä¸»æ§å°
![SCIMaster](image/SCIMaster.PNG)
*å¼ºå¤§çš„ç§‘ç ”è®¡ç®—ä»»åŠ¡ç®¡ç†ä¸ç›‘æ§å¹³å°*

### å¯è§†åŒ–äº¤äº’ç•Œé¢
![UI](image/UI.png)
*ç°ä»£åŒ–çš„ Web åº”ç”¨ç•Œé¢ï¼Œæä¾›ç›´è§‚çš„æ“ä½œä½“éªŒ*

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
pip install bohr-agent-sdk -i https://pypi.org/simple --upgrade
```

### ä¸‰æ­¥æ„å»ºæ‚¨çš„ç§‘ç ”æ™ºèƒ½ä½“

#### ç¬¬ä¸€æ­¥ï¼šè·å–é¡¹ç›®æ¨¡æ¿

```bash
# è·å–è®¡ç®—ç±»é¡¹ç›®æ¨¡æ¿
dp-agent fetch scaffolding --type=calculation

# è·å–è®¾å¤‡æ§åˆ¶ç±»é¡¹ç›®æ¨¡æ¿
dp-agent fetch scaffolding --type=device

# è·å–é…ç½®æ–‡ä»¶
dp-agent fetch config
```

#### ç¬¬äºŒæ­¥ï¼šå¼€å‘æ‚¨çš„æ™ºèƒ½ä½“

**å®éªŒå®¤æ¨¡å¼å¼€å‘ç¤ºä¾‹**

```python
from typing import Dict, TypedDict
from dp.agent.device.device import Device, action, BaseParams, SuccessResult

class TakePictureParams(BaseParams):
    """æ‹ç…§å‚æ•°å®šä¹‰"""
    horizontal_width: str  # å›¾ç‰‡æ°´å¹³å®½åº¦

class PictureData(TypedDict):
    """ç…§ç‰‡æ•°æ®ç»“æ„"""
    image_id: str

class PictureResult(SuccessResult):
    """æ‹ç…§ç»“æœ"""
    data: PictureData

class MyDevice(Device):
    """è‡ªå®šä¹‰è®¾å¤‡ç±»"""
    device_name = "my_device"

    @action("take_picture")
    def take_picture(self, params: TakePictureParams) -> PictureResult:
        """
        æ‰§è¡Œæ‹ç…§åŠ¨ä½œ

        é€šè¿‡ @action è£…é¥°å™¨ï¼Œè‡ªåŠ¨å°†æ­¤æ–¹æ³•æ³¨å†Œä¸º MCP æ ‡å‡†æœåŠ¡
        """
        hw = params.get("horizontal_width", "default")
        # æ‰§è¡Œå®é™…çš„è®¾å¤‡æ§åˆ¶é€»è¾‘
        return PictureResult(
            message=f"Picture taken with {self.device_name}",
            data={"image_id": "image_123"}
        )
```

**äº‘ç«¯æ¨¡å¼å¼€å‘ç¤ºä¾‹**

```python
"""
åŸºäº MCP åè®®çš„äº‘ç«¯è®¾å¤‡æ§åˆ¶ç¤ºä¾‹
"""
import signal
import sys
from dp.agent.cloud import mcp, get_mqtt_cloud_instance
from dp.agent.device.device import TescanDevice, register_mcp_tools

def signal_handler(sig, frame):
    """ä¼˜é›…å…³é—­å¤„ç†"""
    print("Shutting down...")
    get_mqtt_cloud_instance().stop()
    sys.exit(0)

def main():
    """å¯åŠ¨äº‘ç«¯æœåŠ¡"""
    print("Starting Tescan Device Twin Cloud Services...")

    # æ³¨å†Œä¿¡å·å¤„ç†
    signal.signal(signal.SIGINT, signal_handler)

    # åˆ›å»ºè®¾å¤‡å®ä¾‹
    device = TescanDevice(mcp, device)

    # è‡ªåŠ¨æ³¨å†Œè®¾å¤‡å·¥å…·åˆ° MCP æœåŠ¡å™¨
    # register_mcp_tools é€šè¿‡ Python è‡ªçœæœºåˆ¶å®ç°è‡ªåŠ¨æ³¨å†Œ
    register_mcp_tools(device)

    # å¯åŠ¨ MCP æœåŠ¡å™¨
    print("Starting MCP server...")
    mcp.run(transport="sse")

if __name__ == "__main__":
    main()
```

#### ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œå’Œéƒ¨ç½²

```bash
# æœ¬åœ°å®éªŒå®¤ç¯å¢ƒ
dp-agent run tool device

# äº‘ç«¯è®¡ç®—ç¯å¢ƒ
dp-agent run tool cloud

# ç§‘å­¦è®¡ç®—æ¨¡å¼
dp-agent run tool calculation

# å¯åŠ¨æ™ºèƒ½ä½“ï¼ˆå¸¦ Web UIï¼‰
dp-agent run agent --config 


# è°ƒè¯•æ¨¡å¼
dp-agent run debug
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

è¿è¡Œ `dp-agent fetch scaffolding` åï¼Œæ‚¨å°†è·å¾—æ ‡å‡†åŒ–çš„é¡¹ç›®ç»“æ„ï¼š

```
your-project/
â”œâ”€â”€ lab/                    # å®éªŒå®¤æ¨¡å¼
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ tescan_device.py    # è®¾å¤‡æ§åˆ¶å®ç°
â”œâ”€â”€ cloud/                  # äº‘ç«¯æ¨¡å¼
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ mcp_server.py       # MCP æœåŠ¡å®ç°
â”œâ”€â”€ calculation/            # è®¡ç®—æ¨¡å¼
â”‚   â””â”€â”€ __init__.py
â”œâ”€â”€ .env                    # ç¯å¢ƒé…ç½®
â””â”€â”€ main.py                 # ä¸»ç¨‹åºå…¥å£
```

## âš™ï¸ é…ç½®è¯´æ˜

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®å¿…è¦çš„ç¯å¢ƒå˜é‡ï¼š

```bash
# MQTT è¿æ¥é…ç½®
MQTT_INSTANCE_ID=your_instance_id
MQTT_ENDPOINT=your_endpoint
MQTT_DEVICE_ID=your_device_id
MQTT_GROUP_ID=your_group_id
MQTT_AK=your_access_key
MQTT_SK=your_secret_key

# è®¡ç®—èµ„æºé…ç½®
BOHRIUM_USERNAME=your_username
BOHRIUM_PASSWORD=your_password
```

æ³¨æ„ï¼š`dp-agent fetch config` å‘½ä»¤ä¼šè‡ªåŠ¨ä¸‹è½½é…ç½®æ–‡ä»¶å¹¶æ›¿æ¢åŠ¨æ€å˜é‡ï¼ˆå¦‚ MQTT_DEVICE_IDï¼‰ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ­¤åŠŸèƒ½ä»…åœ¨å†…ç½‘ç¯å¢ƒå¯ç”¨ã€‚

## ğŸ¯ åº”ç”¨åœºæ™¯

- **ææ–™ç§‘å­¦è®¡ç®—**ï¼šåˆ†å­åŠ¨åŠ›å­¦æ¨¡æ‹Ÿã€ç¬¬ä¸€æ€§åŸç†è®¡ç®—
- **ç”Ÿç‰©ä¿¡æ¯åˆ†æ**ï¼šåŸºå› åºåˆ—åˆ†æã€è›‹ç™½è´¨ç»“æ„é¢„æµ‹
- **å®éªŒè®¾å¤‡æ§åˆ¶**ï¼šç”µå­æ˜¾å¾®é•œã€X å°„çº¿è¡å°„ä»ªç­‰ç§‘ç ”è®¾å¤‡çš„æ™ºèƒ½åŒ–æ§åˆ¶
- **æ•°æ®å¤„ç†æµç¨‹**ï¼šè‡ªåŠ¨åŒ–æ•°æ®æ¸…æ´—ã€åˆ†æå’Œå¯è§†åŒ–
- **æœºå™¨å­¦ä¹ è®­ç»ƒ**ï¼šæ¨¡å‹è®­ç»ƒã€è¶…å‚æ•°ä¼˜åŒ–ã€ç»“æœè¯„ä¼°

## ğŸ”§ é«˜çº§åŠŸèƒ½

### æ–‡ä»¶ç®¡ç†

```bash
# ä¸Šä¼ æ–‡ä»¶åˆ°äº‘ç«¯
dp-agent artifact upload <path>

# ä¸‹è½½äº‘ç«¯æ–‡ä»¶
dp-agent artifact download <artifact_id>
```

### ä»»åŠ¡ç›‘æ§

SDK æä¾›å®æ—¶ä»»åŠ¡çŠ¶æ€ç›‘æ§ï¼Œæ”¯æŒï¼š
- ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
- è®¡ç®—èµ„æºè°ƒåº¦
- ç»“æœè‡ªåŠ¨å›ä¼ 
- å¼‚å¸¸å¤„ç†å’Œé‡è¯•æœºåˆ¶

## ğŸ“š æ–‡æ¡£ä¸æ”¯æŒ

- ğŸ“– [è¯¦ç»†æ–‡æ¡£](https://dptechnology.feishu.cn/wiki/ZSj9wbLJEiwdNek0Iu7cKsFanuW)

## ğŸ¢ å…³äºæˆ‘ä»¬

Bohrium Science Agent SDK ç”± DP Technology å¼€å‘ç»´æŠ¤ï¼Œè‡´åŠ›äºä¸ºç§‘ç ”å·¥ä½œè€…æä¾›å¼ºå¤§çš„ AI è¾…åŠ©å·¥å…·ï¼ŒåŠ é€Ÿç§‘å­¦å‘ç°è¿›ç¨‹ã€‚

---

**Â© 2025 DP Technology. è®© AI é©±åŠ¨ç§‘å­¦åˆ›æ–°ã€‚**